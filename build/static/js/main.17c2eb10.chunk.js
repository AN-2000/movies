(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{30:function(e,t,a){e.exports=a(64)},35:function(e,t,a){},36:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(26),c=a.n(l),i=(a(35),a(5)),o=a(6),m=a(8),s=a(7),u=a(9),d=(a(36),[{_id:"5b21ca3eeb7f6fbccd471818",name:"Action"},{_id:"5b21ca3eeb7f6fbccd471814",name:"Comedy"},{_id:"5b21ca3eeb7f6fbccd471820",name:"Thriller"}]);var b=[{_id:"5b21ca3eeb7f6fbccd471815",title:"Terminator",genre:{_id:"5b21ca3eeb7f6fbccd471818",name:"Action"},numberInStock:6,dailyRentalRate:2.5,publishDate:"2018-01-03T19:04:28.809Z",liked:!0},{_id:"5b21ca3eeb7f6fbccd471816",title:"Die Hard",genre:{_id:"5b21ca3eeb7f6fbccd471818",name:"Action"},numberInStock:5,dailyRentalRate:2.5},{_id:"5b21ca3eeb7f6fbccd471817",title:"Get Out",genre:{_id:"5b21ca3eeb7f6fbccd471820",name:"Thriller"},numberInStock:8,dailyRentalRate:3.5},{_id:"5b21ca3eeb7f6fbccd471819",title:"Trip to Italy",genre:{_id:"5b21ca3eeb7f6fbccd471814",name:"Comedy"},numberInStock:7,dailyRentalRate:3.5},{_id:"5b21ca3eeb7f6fbccd47181a",title:"Airplane",genre:{_id:"5b21ca3eeb7f6fbccd471814",name:"Comedy"},numberInStock:7,dailyRentalRate:3.5},{_id:"5b21ca3eeb7f6fbccd47181b",title:"Wedding Crashers",genre:{_id:"5b21ca3eeb7f6fbccd471814",name:"Comedy"},numberInStock:7,dailyRentalRate:3.5},{_id:"5b21ca3eeb7f6fbccd47181e",title:"Gone Girl",genre:{_id:"5b21ca3eeb7f6fbccd471820",name:"Thriller"},numberInStock:7,dailyRentalRate:4.5},{_id:"5b21ca3eeb7f6fbccd47181f",title:"The Sixth Sense",genre:{_id:"5b21ca3eeb7f6fbccd471820",name:"Thriller"},numberInStock:4,dailyRentalRate:3.5},{_id:"5b21ca3eeb7f6fbccd471821",title:"The Avengers",genre:{_id:"5b21ca3eeb7f6fbccd471818",name:"Action"},numberInStock:7,dailyRentalRate:3.5}];function h(){return b}var f=a(18),p=a.n(f),v=a(27),g=a(11),E=a(15),y=function(e){var t="fa fa-heart";return e.liked||(t+="-o"),r.a.createElement("i",{onClick:e.onClick,className:t})},k=a(12),S=a.n(k),N=function(e){var t=e.pageSize,a=e.itemsCount,n=e.currentPage,l=e.onPageChange,c=Math.ceil(a/t);if(0===c)return null;var i=S.a.range(1,c+1);return r.a.createElement("nav",null,r.a.createElement("ul",{className:"pagination"},i.map(function(e){return r.a.createElement("li",{key:e,className:e===n?"page-item active":"page-item"},r.a.createElement("a",{className:"page-link",onClick:function(){return l(e)}},e))})))};var C=function(e){var t=e.items,a=e.onItemSelect,n=e.selectedItem;return r.a.createElement("ul",{className:"list-group"},t.map(function(e){return r.a.createElement("li",{key:e._id,onClick:function(){return a(e)},className:e===n?"list-group-item active":"list-group-item"},e.name)}))},R=a(28),w=a.n(R),_=a(19),I=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={movies:h(),selectedGenre:"All Genres",genres:[{_id:"",name:"All Genres"}],pageSize:4,currentPage:1,searchQuery:""},a.handleDelete=function(e){var t=a.state.movies.filter(function(t){return t._id!==e._id});a.setState({movies:t})},a.handleLike=function(e){var t=Object(E.a)(a.state.movies),n=t.indexOf(e);t[n]=Object(g.a)({},t[n]),t[n].liked=!t[n].liked,a.setState({movies:t})},a.handlePageChange=function(e){a.setState({currentPage:e})},a.handleGenreSelect=function(e){a.setState({selectedGenre:e,currentPage:1,searchQuery:""})},a.handleSearch=function(e){a.setState({searchQuery:e.currentTarget.value,selectedGenre:null,currentPage:1})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(v.a)(p.a.mark(function e(){var t;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("https://my-json-server.typicode.com/abhishekv24/testServer/genres");case 2:t=e.sent,this.setState({genres:[].concat(Object(E.a)(this.state.genres),Object(E.a)(t.data))});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;if(0===this.state.movies.length)return r.a.createElement("p",{className:"moviesTable"},"There are no movies in the database");var t=this.state,a=t.pageSize,n=t.currentPage,l=t.selectedGenre,c=t.movies,i=t.searchQuery,o=c;i?o=c.filter(function(e){return e.title.toLowerCase().startsWith(i.toLowerCase())}):l&&l._id&&(o=c.filter(function(e){return e.genre._id===l._id}));var m=function(e,t,a){var n=(t-1)*a;return S()(e).slice(n).take(a).value()}(o,n,a);return r.a.createElement("div",{className:"moviesTable"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-3"},r.a.createElement(C,{items:this.state.genres,selectedItem:this.state.selectedGenre,onItemSelect:this.handleGenreSelect})),r.a.createElement("div",{className:"col"},r.a.createElement("p",null,"Showing ",o.length," movies from the database"),r.a.createElement(_.a,{to:"/movies/new"},r.a.createElement("button",{className:"btn btn-primary"},"New")),r.a.createElement("input",{type:"text",name:"query",className:"form-control my-3",placeholder:"Search...",value:i,onChange:this.handleSearch}),r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Genre"),r.a.createElement("th",null,"Stock"),r.a.createElement("th",null,"Rate"),r.a.createElement("th",null),r.a.createElement("th",null))),r.a.createElement("tbody",null,m.map(function(t){return r.a.createElement("tr",{key:t._id},r.a.createElement("td",null,r.a.createElement(_.a,{to:"/movies/".concat(t._id)},t.title)),r.a.createElement("td",null,t.genre.name),r.a.createElement("td",null,t.numberInStock),r.a.createElement("td",null,t.dailyRentalRate),r.a.createElement("td",null,r.a.createElement(y,{onClick:function(){return e.handleLike(t)},liked:t.liked})),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return e.handleDelete(t)},className:"btn btn-danger btn-sm"},"Delete")))}))),r.a.createElement(N,{itemsCount:o.length,pageSize:this.state.pageSize,currentPage:this.state.currentPage,onPageChange:this.handlePageChange}))))}}]),t}(n.Component),O=a(66),j=function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},r.a.createElement(_.a,{className:"navbar-brand",to:"/"},"MovieRentals"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup"},r.a.createElement("div",{className:"navbar-nav"},r.a.createElement(O.a,{className:"nav-item nav-link",to:"/movies"},"Movies"),r.a.createElement(O.a,{className:"nav-item nav-link",to:"/customers"},"Customers"),r.a.createElement(O.a,{className:"nav-item nav-link",to:"/rentals"},"Rentals"),r.a.createElement(O.a,{className:"nav-item nav-link",to:"/login"},"Login"))))},T=a(69),x=a(29),A=a(68),P=function(){return r.a.createElement("h1",{style:{padding:"50px"}},"Customers")},G=function(){return r.a.createElement("h1",{style:{padding:"50px"}},"Rentals")},F=function(){return r.a.createElement("h1",{style:{paddingTop:"50px"}},"Page not Found")},D=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={data:{title:"",genreId:"",numberInStock:"",dailyRentalRate:""}},a.validate=function(){if(""===a.state.data.title||""===a.state.data.genreId||""===a.state.data.numberInStock||""===a.state.data.dailyRentalRate)return!0},a.handleSubmit=function(e){e.preventDefault(),function(e){var t=b.find(function(t){return t._id===e._id})||{};t.title=e.title,t.genre=d.find(function(t){return t._id===e.genreId}),t.numberInStock=e.numberInStock,t.dailyRentalRate=e.dailyRentalRate,t._id||(t._id=Date.now().toString(),b.push(t))}(a.state.data),a.props.history.push("/movies")},a.handleChange=function(e){var t=e.currentTarget,n=Object(g.a)({},a.state.data);n[t.name]=t.value,a.setState({data:n})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{padding:"50px"}},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"title"},"Title"),r.a.createElement("input",{autoFocus:!0,type:"text",value:this.state.data.title,onChange:this.handleChange,className:"form-control",name:"title",id:"title",placeholder:"Enter title"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"genreId"},"Genre"),r.a.createElement("select",{id:"genreId",name:"genreId",className:"form-control",value:this.state.data.genreId,onChange:this.handleChange},r.a.createElement("option",{value:""}),r.a.createElement("option",{id:"5b21ca3eeb7f6fbccd471818",value:"5b21ca3eeb7f6fbccd471818"},"Action"),r.a.createElement("option",{id:"5b21ca3eeb7f6fbccd471814",value:"5b21ca3eeb7f6fbccd471814"},"Comedy"),r.a.createElement("option",{id:"5b21ca3eeb7f6fbccd471820",value:"5b21ca3eeb7f6fbccd471820"},"Thriller"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"numberInStock"},"Number in Stock"),r.a.createElement("input",{value:this.state.data.numberInStock,onChange:this.handleChange,type:"number",className:"form-control",name:"numberInStock",id:"numberInStock",min:"10",max:"100"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"dailyRentalRate"},"Rate"),r.a.createElement("input",{value:this.state.data.dailyRentalRate,onChange:this.handleChange,type:"number",className:"form-control",name:"dailyRentalRate",id:"dailyRentalRate",placeholder:"",min:"0",max:"10"})),r.a.createElement("button",{disabled:this.validate(),type:"submit",className:"btn btn-primary"},"Save")))}}]),t}(n.Component),M=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={account:{username:"",password:""}},a.handleChange=function(e){var t=e.currentTarget,n=Object(g.a)({},a.state.account);n[t.name]=t.value,a.setState({account:n})},a.handleSubmit=function(e){e.preventDefault()},a.validate=function(){if(""===a.state.account.username||""===a.state.account.password)return!0},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state.account;return r.a.createElement("div",{className:"loginForm"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("h1",null,"Login"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Email address"),r.a.createElement("input",{autoFocus:!0,value:e.username,onChange:this.handleChange,type:"email",className:"form-control",name:"username",id:"username","aria-describedby":"emailHelp",placeholder:"Enter email"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Password"),r.a.createElement("input",{type:"password",value:e.password,className:"form-control",onChange:this.handleChange,name:"password",id:"password",placeholder:"Password"})),r.a.createElement("button",{disabled:this.validate(),type:"submit",className:"btn btn-primary"},"Submit")))}}]),t}(n.Component),L=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={movies:h()},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(j,null),r.a.createElement(T.a,null,r.a.createElement(x.a,{path:"/movies/new",component:D}),r.a.createElement(x.a,{path:"/customers",component:P}),r.a.createElement(x.a,{path:"/rentals",component:G}),r.a.createElement(x.a,{path:"/not-found",component:F}),r.a.createElement(x.a,{path:"/movies",render:function(e){return r.a.createElement(I,{myprop:"some prop",history:e.history,location:e.location,match:e.match})}}),r.a.createElement(x.a,{path:"/login",component:M}),r.a.createElement(A.a,{from:"/",to:"/movies"}),r.a.createElement(A.a,{to:"/not-found"})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(62),a(63);var z=a(67);c.a.render(r.a.createElement(z.a,null,r.a.createElement(L,null)),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.17c2eb10.chunk.js.map